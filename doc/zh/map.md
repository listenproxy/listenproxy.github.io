# 映射

> 映射功能可以将请求的URL会替换为指定的本地文件路径或者目录，从而实现对单个文件或整个网站的映射，方便前端开发调试。

### 开启映射功能

开启步骤：映射菜单->启用映射。开启后，映射菜单下面会有小绿点，表示映射功能已开启。

![](img/light/映射1.png?version=1.1.0)

### 新增映射规则

1. 操作路径：映射菜单->管理规则->规则列表右上角"+"按钮。
2. 在弹窗里，填写匹配规则、本地文件或目录，点击“确定”按钮即可新增规则。

![](img/light/映射2.png?version=1.1.0)

### 映射类型

映射类型可以选择映射文件或目录两种方式。
- **映射文件：**请求的URL会替换为指定的本地文件路径，从而实现对单个文件的映射。
- **映射目录：**请求的URL会替换为本地目录下对应的文件路径，从而实现对整个网站的映射。

**例：**请求URL为`http://example.com/js/app.js`，映射文件时，本地文件配置为`D:/webroot/js/app.js`，匹配规则配置为`http://example.com/js/app.js`，则请求响应内容会返回`D:/webroot/js/app.js`文件的内容。

![](img/light/映射2.png?version=1.1.0)

另外，映射类型选择映射文件时，支持使用正则表达式，从而实现更灵活的匹配方式。启用正则后，本地文件路径可以使用 **$1-$100** 来代替URL匹配规则中的子匹配项。

**例：**请求URL为`http://example.com/js/app.js`，映射文件配置为`D:/webroot/js/$1.js`，匹配规则配置为`http://example\.com/js/([a-z0-9]+)\.js`，则请求响应内容会返回`D:/webroot/js/app.js`文件的内容。

![](img/light/映射3.png?version=1.1.0)

除了映射文件外，在配置里勾选映射目录，还可以将一个URL路径整个映射到本地文件目录

**例：**请求URL为`http://example.com/js/app.js`，映射规则里选择映射目录，本地目录配置为`D:/webroot/js`，匹配规则配置为`http://example.com/js`，则请求响应内容会返回`D:/webroot/js/app.js`文件的内容。

![](img/light/映射4.png?version=1.1.0)